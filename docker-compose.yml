services:
  dobrika-search:
    build:
      context: .
      dockerfile: Dockerfile
    image: dobrika-search:latest
    container_name: dobrika-search-server
    ports:
      - "8088:8088"
    environment:
      - DOBRIKA_ADDR=0.0.0.0
      - DOBRIKA_PORT=8088
      - DOBRIKA_DB_PATH=/app/db
      - DOBRIKA_COLD_MIN=30
      - DOBRIKA_HOT_MIN=15
      - DOBRIKA_SEARCH_OFFSET=0
      - DOBRIKA_SEARCH_LIMIT=5
      - DOBRIKA_GEO_INDEX=9
      - DOBRIKA_LOG_REQUESTS=1
    restart: unless-stopped
    networks:
      - dobrika-network
    user: "1000:1000"

networks:
  dobrika-network:
    driver: bridge

volumes:
  dobrika-db:

